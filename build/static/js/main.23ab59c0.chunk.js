(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,a){e.exports=a.p+"static/media/QuikCardLogo.e432cbf8.png"},304:function(e,t,a){},311:function(e,t,a){e.exports=a.p+"static/media/QuikCardLogoText.e4b0692e.png"},318:function(e,t,a){e.exports=a(613)},338:function(e,t){},340:function(e,t){},356:function(e,t){},358:function(e,t){},521:function(e,t){},613:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(59),s=a.n(c),i=a(627),o=a(45),l=a(46),u=a(49),d=a(47),p=a(50),m=a(11),h=a.n(m),b=a(26),f=a(87),g=a(77),v=new g.AppConfig(["store_write","publish_data"]),E=a(78),O=a(628),y=a(620),w=a(621),C=a(9),k=a(88);function j(){var e=Object(f.a)(["\n  width: 60vw;\n  display: flex;\n  margin: 2vh auto;\n  justify-content: center;\n  text-align: center;\n"]);return j=function(){return e},e}var x=k.a.div(j()),S=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).userSession=new g.UserSession({appConfig:v}),e.state={isModalOpen:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"signIn",value:function(e){e.preventDefault(),this.userSession.redirectToSignIn()}},{key:"render",value:function(){var e=this;return r.a.createElement(x,null,r.a.createElement(E.a,{size:"xl",isOpen:this.state.isModalOpen,onClose:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.setState({isModalOpen:!1}));case 1:case"end":return t.stop()}},t)}))},r.a.createElement(E.g,null),r.a.createElement(E.d,null,r.a.createElement(E.f,null,"Terms Of Service"),r.a.createElement(E.c,null),r.a.createElement(E.b,null,"There are a few things to note before you use QuikCard. ",r.a.createElement("br",null)," ",r.a.createElement("br",null),"- QuikCard does not confirm if funds are on cards, or if cards are valid. ",r.a.createElement("br",null),"- QuikCard uses transactional emails that are auto-deleted to send gift cards. ",r.a.createElement("br",null),"- If you send a card, tell the recipient to check their spam inbox if they cannot find it. ",r.a.createElement("br",null),"- When viewing your cards, clicking the info button will display sensitive card info on your screen, keep this in mind. ",r.a.createElement("br",null),"- QuikCard shouldn't be used to distribute/sell gift cards. ",r.a.createElement("br",null),"- Once you send a card, you cannot add it back to your account. ",r.a.createElement("br",null),"- All of your card data is secured within BlockStack's Gaia storage, and not stored by QuikCard. ",r.a.createElement("br",null)),r.a.createElement(E.e,null,r.a.createElement(O.a,{variant:"ghost",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.setState({isModalOpen:!1}));case 1:case"end":return t.stop()}},t)}))},"Close")))),r.a.createElement(y.a,{spacing:20},r.a.createElement(w.a,null,"Welcome to QuikCard!"),r.a.createElement(C.a,{p:10,shadow:"md",borderWidth:"1px",bg:"#05386B",color:"#EDF5E1",rounded:"md"},r.a.createElement(w.a,{style:{marginBottom:"5vh"},size:"lg"},"Please Read the TOS before continuing"),r.a.createElement("p",{className:"lead"},r.a.createElement(O.a,{bg:"#379683",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({isModalOpen:!0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))},"TOS"))),r.a.createElement(C.a,{p:5,shadow:"md",borderWidth:"1px",bg:"#05386B",color:"#EDF5E1",rounded:"md"},r.a.createElement(w.a,{style:{marginBottom:"5vh"},size:"lg"},"Authenticate"),r.a.createElement("p",{className:"lead"},r.a.createElement(O.a,{bg:"#379683",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",onClick:this.signIn.bind(this)},"Sign In with Blockstack")))))}}]),t}(n.Component),N=a(89),M=a(631),T=a(632),D=a(121),B=a(120),F=a(622),_=a(150),A=a(623),R=a(151),I=a(629),z=a(624),P=a(625),q=a(208);a(593);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach(function(t){Object(B.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function U(){var e=Object(f.a)(["\n    width: 100%;\n    padding: 2.5vh 0;\n    text-align: left;\n"]);return U=function(){return e},e}function W(){var e=Object(f.a)(["\n  width: 70vw;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 5vh auto;\n  border-radius: 10px;\n  text-align: center;\n  background-color: #8EE4AF;\n  padding: 5vh 4vw 5vh 4vw;\n  justify-content: flex-start;\n"]);return W=function(){return e},e}var V=k.a.div(W()),L=k.a.form(U()),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return a.setState({card:J({},a.state.card,Object(B.a)({},e.target.name,e.target.value))})},a.handleSubmit=function(){var e=Object(b.a)(h.a.mark(function e(t){var n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),-1===a.props.cards.blacklist.indexOf(a.state.card.cardNumber)){e.next=5;break}return e.next=4,a.setState({toast:"This card has already been sent",toastType:"warning"});case 4:return e.abrupt("return");case 5:return n=a.props.cards,r=a.state.card,n={count:n.count+1,cards:[].concat(Object(D.a)(n.cards),[r]),blacklist:Object(D.a)(n.blacklist)},e.next=10,a.props.saveCards(n);case 10:a.props.history.push("/cards");case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.makeToast=function(e,t){return Object(q.b)(e,{type:t,closeOnClick:!0})},a.state={card:{cardType:"",cardNumber:"",expDate:"",balance:"",security:"",notes:""},toast:"",toastType:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(V,null,this.state.toast&&this.state.toastType?(e.makeToast(e.state.toast,e.state.toastType),r.a.createElement(q.a,null)):null,r.a.createElement(w.a,{size:"lg",style:{width:"100%"}},"Add a new card"),r.a.createElement(F.a,{style:{width:"100%",paddingTop:"10px"},fontSize:"sm"},"*Since card data can differ, only Card Type, Number, Expiration Date, and Balance are required."),r.a.createElement(L,{onSubmit:this.handleSubmit},r.a.createElement(y.a,{spacing:5},r.a.createElement(_.a,{isRequired:!0},r.a.createElement(A.a,{htmlFor:"cardType"},"Card Type"),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.card.cardType,type:"text",name:"cardType",label:"Card Type"})),r.a.createElement(_.a,{isRequired:!0},r.a.createElement(A.a,{htmlFor:"cardNumber"},"Card Number"),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.card.cardNumber,type:"password",name:"cardNumber",label:"Card Number"})),r.a.createElement(_.a,{isRequired:!0},r.a.createElement(A.a,{htmlFor:"expDate"},"Expiration Date"),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.card.expDate,type:"text",name:"expDate",label:"Expiration Date"})),r.a.createElement(_.a,{isRequired:!0},r.a.createElement(A.a,{htmlFor:"balance"},"Balance"),r.a.createElement(I.a,null,r.a.createElement(z.a,{children:"$"}),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.card.balance,type:"text",name:"balance",label:"Balance"}))),r.a.createElement(_.a,null,r.a.createElement(A.a,{htmlFor:"security"},"CVV/Security Code"),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.card.security,type:"password",name:"security",label:"CVV/Security Code"})),r.a.createElement(_.a,null,r.a.createElement(A.a,{htmlFor:"notes"},"Other Notes"),r.a.createElement(P.a,{onChange:this.handleChange,value:this.state.card.notes,type:"text",name:"notes",label:"Other Notes"})),r.a.createElement("p",{className:"lead"},r.a.createElement(O.a,{bg:"#379683",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",onClick:this.handleSubmit},"Add New Card")))))}}]),t}(r.a.Component),Y=a(309),X=a(626),$=a(204),H=a.n($),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).openModal=function(){var e=Object(b.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({isModalOpen:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){return a.setState(Object(B.a)({},e.target.name,e.target.value))},a.state={view:"buttons",recipient:"",isModalOpen:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.card,n=t.sendCard;return r.a.createElement(Y.a,{justify:"space-between",wrap:"wrap",style:{height:"buttons"===this.state.view?"35vh":"45vh",padding:"4%",borderRadius:"10px",background:"linear-gradient(#8EE4AF, #379683)",width:"100%",marginTop:"4vh",marginBottom:"4vh"}},r.a.createElement(E.a,{isOpen:this.state.isModalOpen,onClose:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.setState({isModalOpen:!1}));case 1:case"end":return t.stop()}},t)}))},r.a.createElement(E.g,null),r.a.createElement(E.d,null,r.a.createElement(E.f,null,"Confirm Action"),r.a.createElement(E.c,null),r.a.createElement(E.b,null,"When you click 'Send Card', SendGrid will send a transactional email to the recipient, no data is collected regarding this transaction. You will not be able to re-add this card to your account again.",r.a.createElement(_.a,{style:{marginTop:"2vh"},isRequired:!0},r.a.createElement(A.a,{htmlFor:"recipient"},"Recipient Email"),r.a.createElement(R.a,{onChange:this.handleChange,value:this.state.recipient,type:"email",name:"recipient",label:"Recipient Email"}))),r.a.createElement(E.e,null,r.a.createElement(O.a,{variantColor:"blue",mr:3,onClick:function(t){return n(t,a,e.state.recipient)}},"Send Card"),r.a.createElement(O.a,{variant:"ghost",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.setState({isModalOpen:!1}));case 1:case"end":return t.stop()}},t)}))},"Close")))),r.a.createElement(y.a,{spacing:10},r.a.createElement(X.a,{size:"50px",objectFit:"cover",style:{borderRadius:"10px"},src:H.a,alt:"card-logo"}),r.a.createElement("div",null,r.a.createElement(w.a,{size:"sm",style:{textAlign:"left"}},"Card Name"),r.a.createElement(w.a,{size:"lg",style:{textAlign:"center"}},a.cardType))),"buttons"===this.state.view?r.a.createElement(y.a,{spacing:5},r.a.createElement(O.a,{bg:"#05386B",color:"white",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({view:"info"});case 2:case"end":return t.stop()}},t)}))}," Card Info "),r.a.createElement(O.a,{bg:"#05386B",color:"white",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.openModal(a);case 1:case"end":return t.stop()}},t)}))}," Send Card ")):r.a.createElement(y.a,{spacing:3},r.a.createElement(O.a,{bg:"#05386B",color:"white",_hover:{color:"#379683",backgroundColor:"beige"},id:"signin-button",size:"sm",onClick:Object(b.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({view:"buttons"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}))}," Return "),r.a.createElement(F.a,{color:"white"},"Card Number - ",a.cardNumber),r.a.createElement(F.a,{color:"white"},"Expiration Date - ",a.expDate),r.a.createElement(F.a,{color:"white"},"CVV/Security - ",a.security),r.a.createElement(F.a,{color:"white"},"Details/Notes - ",a.notes)))}}]),t}(r.a.Component),Z=a(310),ee=a.n(Z);function te(){var e=Object(f.a)(["\n    width: 60vw;\n    margin: 5vh auto;\n    min-height: 100vh;\n"]);return te=function(){return e},e}var ae=k.a.div(te()),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).sendCard=function(){var e=Object(b.a)(h.a.mark(function e(t,n,r){var c,s,i,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,r),c={from:{email:"from_email@example.com"},personalizations:[{to:[{email:r}],dynamic_template_data:{username:a.props.me.name,cardType:n.cardType,cardNumber:n.cardNumber,expDate:n.expDate,security:n.security,balance:n.balance,notes:n.notes}}],template_id:"d-622b2556bda745e0afb4437667771510"},ee.a.post("https://quikcard.herokuapp.com/email",JSON.stringify(c)),e.next=5,a.setState({isModalOpen:!1});case 5:return s=a.props.cards.blacklist,i=a.props.cards.cards.indexOf(n),(o=a.props.cards.cards).splice(i,1),e.next=11,a.props.saveCards({count:a.props.cards.count-1,cards:o,blacklist:[].concat(Object(D.a)(s),[n.cardNumber])});case 11:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.cards.cards;return r.a.createElement(ae,null,r.a.createElement(Y.a,{wrap:"wrap",align:"space-between"},t?t.map(function(t){return r.a.createElement(K,{sendCard:e.sendCard,card:t})}):null),void 0!==t&&0===t.length?r.a.createElement(Y.a,{justify:"center"},r.a.createElement(y.a,{spacing:10},r.a.createElement(w.a,{style:{textAlign:"center"}},"You have no cards!"),r.a.createElement(w.a,{size:"md"},"Click on 'Navigation', and then 'Add New Card' to add a new card."))):null)}}]),t}(r.a.Component),re=a(313),ce=a(311),se=a.n(ce),ie=(a(304),a(630));var oe=function(e){var t=Object(n.useState)(!1),a=Object(re.a)(t,2),c=a[0],s=a[1],i=r.a.useRef(),o=function(t,a){t.preventDefault(),e.history.push(a)};return r.a.createElement("nav",{className:"navbar navbar-dark navbar-static-top app-nav"},r.a.createElement("a",{className:"navbar-brand",href:"https://blockstack.org"},r.a.createElement("img",{src:se.a,alt:""})),r.a.createElement(O.a,{ref:i,bg:"#05386B",color:"white",onClick:function(){return s(!c)}},"Navigation"),r.a.createElement(ie.a,{isOpen:c,placement:"right",onClose:function(){return s(!c)},finalFocusRef:i},r.a.createElement(ie.c,null),r.a.createElement(ie.b,null,r.a.createElement(Y.a,{justify:"space-between",align:"center",style:{paddingRight:"20px",marginBottom:"10vh"}},r.a.createElement(E.f,null,"Navigation"),r.a.createElement(O.a,{style:{width:"15%"},variant:"outline",onClick:function(){return s(!c)}},"X")),r.a.createElement(E.b,null,r.a.createElement(y.a,{spacing:10},r.a.createElement(O.a,{bg:"#05386B",_hover:{color:"black",backgroundColor:"white",border:"1px solid black"},color:"white",onClick:function(e){return o(e,"/cards")}},"My Cards"),r.a.createElement(O.a,{bg:"#05386B",_hover:{color:"black",backgroundColor:"white",border:"1px solid black"},color:"white",onClick:function(e){return o(e,"/cards/new")}},"Add New Card"))),r.a.createElement(E.e,null,r.a.createElement(O.a,{_hover:{border:"1px solid black",color:"black",backgroundColor:"white"},width:"100%",bg:"#5CDB95",variant:"outline",mr:3,onClick:function(t){return e.signOut(t)}},"Logout")))))},le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).userSession=new g.UserSession({appConfig:v}),a.state={me:{},cards:{},savingMe:!1,savingCards:!1,savingData:!1},a.loadMe=a.loadMe.bind(Object(N.a)(a)),a.saveMe=a.saveMe.bind(Object(N.a)(a)),a.saveCards=a.saveCards.bind(Object(N.a)(a)),a.signOut=a.signOut.bind(Object(N.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadMe();case 2:return e.next=4,this.loadCards();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadMe",value:function(){var e=this;this.userSession.getFile("me.json",{decrypt:!1}).then(function(){var t=Object(b.a)(h.a.mark(function t(a){var n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}n=JSON.parse(a),e.setState({me:n}),t.next=10;break;case 5:return r=e.userSession.loadUserData().profile,t.next=8,e.setState({me:r});case 8:return t.next=10,e.saveMe(r);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"loadCards",value:function(){var e=this;this.userSession.getFile("cards.json",{decrypt:!1}).then(function(){var t=Object(b.a)(h.a.mark(function t(a){var n,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=6;break}n=JSON.parse(a),console.log(n),e.setState({cards:n}),t.next=11;break;case 6:return r={count:0,cards:[],blacklist:[]},t.next=9,e.setState({cards:r});case 9:return t.next=11,e.saveCards(r);case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},{key:"saveMe",value:function(e){var t=this;this.setState({me:e,savingMe:!0});this.userSession.putFile("me.json",JSON.stringify(e),{encrypt:!1}).finally(function(){t.setState({savingMe:!1})})}},{key:"saveCards",value:function(e){var t=this;this.setState({cards:e,savingCards:!0});this.userSession.putFile("cards.json",JSON.stringify(e),{encrypt:!1}).finally(function(){t.setState({savingCards:!1})})}},{key:"signOut",value:function(e){e.preventDefault(),this.userSession.signUserOut(),window.location="/"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"SignedIn"},r.a.createElement(M.a,{path:"/",render:function(t){return r.a.createElement(oe,Object.assign({type:"navigation",userSession:e.userSession,signOut:e.signOut},t))}}),r.a.createElement(T.a,null,r.a.createElement(M.a,{path:"/cards/new",render:function(t){return r.a.createElement(G,Object.assign({type:"addcard",userSession:e.userSession,saveCards:e.saveCards,cards:e.state.cards,signOut:e.signOut},t))}}),r.a.createElement(M.a,{path:"/cards",render:function(t){return r.a.createElement(ne,Object.assign({type:"cardlist",userSession:e.userSession,saveCards:e.saveCards,cards:e.state.cards,me:e.state.me,signOut:e.signOut},t))}})))}}]),t}(n.Component),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={userSession:new g.UserSession},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this.state.userSession;!e.isUserSignedIn()&&e.isSignInPending()&&e.handlePendingSignIn().then(function(e){if(!e.username)throw new Error("This app requires a username.");window.location="/cards"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"site-wrapper"},r.a.createElement("div",{className:"site-wrapper-inner"},this.state.userSession.isUserSignedIn()?r.a.createElement(le,null):r.a.createElement(S,null)))}}]),t}(n.Component),de=a(101),pe=a(633);a(612);s.a.render(r.a.createElement(i.a,null,r.a.createElement(de.a,null,r.a.createElement(pe.a,null),r.a.createElement(ue,null))),document.getElementById("root"))}},[[318,1,2]]]);
//# sourceMappingURL=main.23ab59c0.chunk.js.map